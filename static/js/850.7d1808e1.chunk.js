"use strict";(self.webpackChunkchaosx_18=self.webpackChunkchaosx_18||[]).push([[850],{5850:function(n,e,i){i.r(e),i.d(e,{default:function(){return M}});var o=i(9439),t=i(2791),s=i(9434),a=i(5932),c=i(9085),r="styles_container__ikqpf",l="styles_container_miningInfo__s-DLW",u="styles_container_miningInfo_aurumBoosters__4onUL",d="styles_container_miningInfo_timeInfo__Q5TNs",h="styles_container_miningInfo_mainInfo__C+BUD",v="styles_container_buttonWrapper__QmY+K",m=i(7912),f=i(2181),p=i(9677),_=i(939),x=i(7086),g=i(175),w=i(3267),b=i(3102),S=i(1837),j=i(3329),y=t.lazy((function(){return i.e(356).then(i.bind(i,6356))})),k={"ChaosX-18 Mine Aurum":x,"ChaosX-18 Mine Celium":g,"ChaosX-18 Building Slot ":w,"ChaosX-18 Level Up token":b,"Teleport to ChaosX-18":S},M=function(n){var e,i=n.mine,x=(0,t.useRef)(null),g=(0,s.I0)(),w=(0,t.useState)(null),b=(0,o.Z)(w,2),S=b[0],M=b[1],N=(0,s.v9)((function(n){return n.user})),A=N.waxConnected,L=N.anchorConnected,C=(0,s.v9)((function(n){return n.nfts})),I=C.myWorkingNfts,D=C.myNfts,U=function(n){var e=D.filter((function(n){return"ChaosX-18 Level Up token"===n.name}));e[0]?L?function(n,e){var i,o,t,s,a;S||(M(n.asset_id),null===(i=m.n.anchorSession)||void 0===i||i.transact({actions:[{account:"atomicassets",name:"transfer",authorization:[{actor:null===(o=m.n.anchorSession)||void 0===o||null===(t=o.auth)||void 0===t?void 0:t.actor.toString(),permission:"active"}],data:{from:null===(s=m.n.anchorSession)||void 0===s||null===(a=s.auth)||void 0===a?void 0:a.actor.toString(),to:"xcryptochaos",asset_ids:[e.asset_id],memo:"burn@level@"+n.asset_id}}]},{blocksBehind:3,expireSeconds:30}).then((function(n){c.Am.success("NFT successfully upgraded, you can mine it after 24 hours"),M(null)})).catch((function(n){M(null)})))}(n,e[0]):A&&function(n,e){var i,o;S||(M(n.asset_id),m.n.wax.api.transact({actions:[{account:"atomicassets",name:"burnasset",authorization:[{actor:null===(i=m.n.wax)||void 0===i?void 0:i.userAccount,permission:"active"}],data:{from:null===(o=m.n.wax)||void 0===o?void 0:o.userAccount,to:"xcryptochaos",asset_ids:[e.asset_id],memo:"burn@level@"+n.asset_id}}]},{blocksBehind:3,expireSeconds:30}).then((function(n){c.Am.success("NFT successfully upgraded, you can mine it after 24 hours"),M(null)})).catch((function(n){M(null)})))}(n,e[0]):c.Am.error("To upgrade your mine purchase ChaosX-18 Level Up token")};return(0,t.useEffect)((function(){i&&setTimeout((function(){g((0,f.gr)(i.asset_id))}),1e3),g((0,f.tV)())}),[g,i]),(0,j.jsxs)(a.E.div,{viewport:{root:x,once:!0},transition:{type:"spring",ease:"easeInOut",damping:35,delay:.5},variants:{initial:{opacity:0},whileInView:{opacity:1}},initial:"initial",whileInView:"whileInView",className:r,children:[I&&(0,j.jsx)(t.Suspense,{fallback:(0,j.jsx)(_.Z,{size:250}),children:(0,j.jsx)(y,{nft:I[null===i||void 0===i?void 0:i.asset_id],image:k[null===(e=I[null===i||void 0===i?void 0:i.asset_id])||void 0===e?void 0:e.name],functional:!1},null===i||void 0===i?void 0:i.asset_id)},i.asset_id),i&&(0,j.jsxs)("div",{className:l,children:[(0,j.jsxs)("div",{className:u,children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"First booster: "}),"1/1/1970, 12:00:00 AM"===new Date(i.bstrOne).toLocaleString()?"None":new Date(i.bstrOne).toLocaleString()]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Second booster: "}),"1/1/1970, 12:00:00 AM"===new Date(i.bstrTwo).toLocaleString()?"None":new Date(i.bstrTwo).toLocaleString()]})]}),(0,j.jsxs)("div",{className:d,children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Last time mined: "}),"1/1/1970, 12:00:00 AM"===new Date(i.lastMined).toLocaleString()?"None":new Date(i.lastMined).toLocaleString()]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Last time upgrade: "}),"1/1/1970, 12:00:00 AM"===new Date(i.lastUpgrade).toLocaleString()?"None":new Date(i.lastUpgrade).toLocaleString()]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Unstake time: "}),"1/1/1970, 12:00:00 AM"===new Date(i.unstake_time).toLocaleString()?"None":new Date(i.unstake_time).toLocaleString()]})]}),(0,j.jsxs)("div",{className:h,children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Mine level: "}),i.level]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Mine locked: "}),0===i.is_locked?"No":"Yes"]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("b",{children:"Mine staked: "}),0===i.is_staked?"No":"Yes"]})]})]}),(0,j.jsxs)("div",{className:v,children:[(0,j.jsx)(p.Z,{onClick:function(){L?function(){var n,e,o,t,s;S||(M("Mine"),null===(n=m.n.anchorSession)||void 0===n||n.transact({actions:[{account:"xcryptochaos",name:"minetoken",authorization:[{actor:null===(e=m.n.anchorSession)||void 0===e||null===(o=e.auth)||void 0===o?void 0:o.actor.toString(),permission:"active"}],data:{player:null===(t=m.n.anchorSession)||void 0===t||null===(s=t.auth)||void 0===s?void 0:s.actor.toString(),mineId:null===i||void 0===i?void 0:i.id}}]},{blocksBehind:3,expireSeconds:30}).then((function(n){c.Am.success("Mining started successfully"),M(null)})).catch((function(n){c.Am.error("You can't mine now"),console.log("Mining error: ",n),M(null)})))}():A&&function(){var n,e;S||(M("Mine"),m.n.wax.api.transact({actions:[{account:"xcryptochaos",name:"minetoken",authorization:[{actor:null===(n=m.n.wax)||void 0===n?void 0:n.userAccount,permission:"active"}],data:{player:null===(e=m.n.wax)||void 0===e?void 0:e.userAccount,mineId:null===i||void 0===i?void 0:i.id}}]},{blocksBehind:3,expireSeconds:30}).then((function(n){c.Am.success("Mining started successfully"),M(null)})).catch((function(n){c.Am.error("You can't mine now"),console.log("Mining error: ",n),M(null)})))}()},loader:S,size:"fit",color:"blue",children:"Mine"}),(0,j.jsx)(p.Z,{onClick:function(){return U(I[null===i||void 0===i?void 0:i.asset_id])},loader:S,size:"fit",color:"blue",children:"Upgrade"})]})]})}}}]);
//# sourceMappingURL=850.7d1808e1.chunk.js.map